<div class="container">
    <div class="preview">
        <h3 style="display: flex;margin-bottom: 10px;margin-top: 10px;text-align:justify;"><span
                style="margin-right: 20px;">A.1.1 </span> Institucionalidad local</h3>
        <p style="text-align:justify;margin-bottom: 5px;">La institucionalidad local de la {{ datos.distritoSeleccionado
            }} está organizada de la siguiente manera</p>
        <div id="ubicacionTable">
            <p style="text-align: center;font-weight: 700;">Cuadro N° 3.5</p>
            <p style="text-align: center;font-weight: 700;">Instituciones existentes en la {{ datos.distritoSeleccionado
                }}</p>
            <table
                style="width: 100%;margin-top: 10px;border-spacing: 0;margin-bottom: 10px;border-collapse: collapse;">
                <thead>
                    <tr>
                        <th style="background: #e6e6e6;padding: 7px 0px;border: solid 1px black;border-spacing: 0px">
                            Categoría</th>
                        <th style="background: #e6e6e6;padding: 7px 0px;border: solid 1px black;border-spacing: 0px;">
                            SI/NO</th>
                        <th style="background: #e6e6e6;padding: 7px 0px;border: solid 1px black;border-spacing: 0px;">
                            Nombre</th>
                        <th style="background: #e6e6e6;padding: 7px 0px;border: solid 1px black;border-spacing: 0px">
                            Comentario</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngIf="this.datos.tablepagina6.length > 0; else noData">
                        <tr *ngFor="let item of tablepagina6">
                            <td>{{ item.categoria }}</td>
                            <td>{{ item.respuesta }}</td>
                            <td>{{ item.nombre }}</td>
                            <td>{{ item.comentario }}</td>
                        </tr>
                    </ng-container>
                </tbody>

                <ng-template #noData>
                    <tr>
                        <td colspan="4" style="text-align: center; font-weight: bold; color: red;">
                            No hay datos disponibles.
                        </td>
                    </tr>
                </ng-template>
            </table>
        </div>
        <p style="text-align:justify;margin-bottom: 5px;">Fuente:<span class="nombreConsultora subrayado">{{
                datos.consultora }}</span> </p>
        <div class="image-gallery">
            <div *ngFor="let img of datos.imagenes2; let i = index" class="image-item">
                <p><strong>Fotografía N° {{ i + 1 }}:</strong> <br> {{ img.name }}</p>
                <img [src]="img.url" alt="{{ img.name }}" width="150">
                <div style="text-align: center;">Fuente: {{ datos.consultora }}</div>
            </div>
        </div>
    </div>

    <div class="formulario">
        <div class="title">Institucionalidad Tabla</div>

        <div *ngFor="let item of tablepagina6">
            <div style="width: 97%; display: flex; gap: 25px; margin-bottom: 10px; align-items: center;">
                <td class="label" style="width: 30%; ">{{ item.categoria }}</td>
                <td style="width: 20%; "><input class="inputstyle" style="width: 100%;" type="text"
                        [(ngModel)]="item.respuesta"></td>
                <td style="width: 20%;"><input class="inputstyle" style="width: 100%;" type="text"
                        [(ngModel)]="item.nombre"></td>
                <td style="width: 20%;"><input class="inputstyle" style="width: 100%;" type="text"
                        [(ngModel)]="item.comentario"></td>
            </div>
        </div>

        <button class="guardar" (click)="guardarDatos()">Guardar</button>

        <!-- SECCIÓN PARA SUBIR IMÁGENES -->
        <div class="title">Fotografias Institucionalidad</div>

        <input style="margin-bottom: 15px;" type="file" (change)="onFileSelected($event)">


        <div style="display: flex; gap: 20px; align-items: center;">
            <div class="label">NOMBRE DE LA IMAGEN:</div>

            <input class="inputstyle" type="text" [(ngModel)]="imageName">

            <button class="guardar2" (click)="guardarImagen()">Cargar Imagen</button>
        </div>



        <div style="display: flex; gap: 20px; margin-top: 20px;">

            <button class="atras" (click)="regresar()">Atrás</button>
            <button class="siguiente" (click)="siguientePaso()">Siguiente</button>
            <button class="resumen" (click)="resumen()">Resumen</button>

        </div>
    </div>
</div>